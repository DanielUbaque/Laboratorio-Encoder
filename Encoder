#define TRUE 1
#define FALSE 0
#define K 5.99;  
#define PERIOD_OMEGA 1000


#include "mcc_generated_files/mcc.h"
int ENCODER_V , ENCODER_OLD; 
bool flag_encoder, FLAG_RISE ; 
double COUNT_RISE; 
int COUNT_OMEGA; 
/*
                         Main application
 */
void main(void)
{ 
    double w_rad_s=0; 
    // initialize the device
    SYSTEM_Initialize();
    
    // When using interrupts, you need to set the Global and Peripheral Interrupt Enable bits
    // Use the following macros to:

    //Enable the Global Interrupts
    INTERRUPT_GlobalInterruptEnable();

    // Enable the Peripheral Interrupts
    INTERRUPT_PeripheralInterruptEnable();

    // Disable the Global Interrupts
   // INTERRUPT_GlobalInterruptDisable();

    // Disable the Peripheral Interrupts
    //INTERRUPT_PeripheralInterruptDisable();
    ENCODER_OLD = FALSE; 
    ENCODER_V   = FALSE; 
    COUNT_RISE = 0;
    flag_encoder = FALSE; 
    FLAG_RISE = FALSE; 
   
    
    while (1)
    {
        // Add your application code
        if (flag_encoder == TRUE ){
            flag_encoder = FALSE; 
            
            if (ENCODER_V== TRUE && ENCODER_OLD == FALSE){
            
            FLAG_RISE = TRUE; 
            COUNT_RISE++; 
        }
            
            COUNT_OMEGA++; 
            if (COUNT_OMEGA==PERIOD_OMEGA){
                //W_ppp = (COUNT_RISE*res_deg)/(PERIOD_OMEGA*1,024ms); 
                w_rad_s=COUNT_RISE*K;
                w_rad_s= w_rad_s/1000; 
                COUNT_RISE =0; 
                COUNT_OMEGA=0;
                
                printf("\n",(int)w_rad_s); 
                
            }
    } 
  }
}
/**
 End of File
